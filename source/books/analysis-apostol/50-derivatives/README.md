# Derivatives

本章讨论导数，是微分学的核心概念。导数的定义和微分中值定理是本章的重点。除了一元实值函数的微分外，这一章还讨论了单变量向量函数的导数和偏导数，因为其与一元函数微分没有实质差异，另外还讲了复数值函数的导数。这个处理相对不同于其他的分析书在第一次讲导数时只讲一元实值函数的微分。多元函数的导数理论是完全不同的，本书放在了第12章讲。

## 实值函数

5.1定义函数$f$在某一点可导的含义。定理5.2说明在一点可导与一个特殊的在此点连续函数之间的关系，即$f$在点$c$可导等价于存在一个新的在$c$连续的函数$f^*$使得$f(x)-f(c)=(x-c)f^*(x)$且有$f^*(c)=f'(c)$。这个关系在后面的证明中反复用到，很方便。定理5.3可导必连续的证明就非常容易。定理5.4证明了导数的加减乘除公式，非常熟悉并无新意。定理5.5是求导的链式法则。定义5.6拓展导数定义至单边导数，且将导数值拓展至$\infty$的情况。注意单边导数的定义需要以函数连续作为前提，如果函数不连续，则在该点就不定义单边导数。

定理5.7说明导数为正和函数严格单增的关系，类似可以推导出导数为负和函数严格单减的关系。定理5.9说明导数为0与函数局部最值之间的关系，如果某一点取得函数最值且有导数，则该导数必为0。定义5.8是局部最大值点和局部最小值点的定义，在之前的习题已经出现过。

## 中值定理

定理5.10是Roll定理，定理5.11是中值定理，也有叫Lagrange中值定理的，定理5.12是推广的中值定理，也有叫Cauchy中值定理的。这三个定理的前提条件及结论都有一定差异

$f$在$(a,b)$可导，$f$在点$a$和$b$连续，$f(a)=f(b)$，

| 定理                   | 可导条件         | 连续条件            | 附加条件                                       | 结论                                                        |
| :--------------------- | :--------------- | :------------------ | :--------------------------------------------- | :---------------------------------------------------------- |
| Rolle                  | $f$在$(a,b)$可导 | $f$在点$a$和$b$连续 | $f(a)=f(b)$                                    | $\exist{c\in(a,b)},f'(c)=0$                                 |
| Mean-Value             | $f$在$(a,b)$可导 | $f$在点$a$和$b$连续 |                                                | $\exist{c\in(a,b)}$, $f(b)-f(a)=f'(c)(b-a)$                 |
| Generalized Mean-Value | $f$在$(a,b)$可导 | $f$在点$a$和$b$连续 | $f'(x)$和$g'(x)$不同时为infinite。$x\in(a,b)$. | $\exist{c\in(a,b)}$, $f'(c)[g(b)-g(a)]$ $=g'(c)[f(b)-f(a)]$ |

定理5.13是另一个推广，去掉了连续条件，只要求单侧极限存在，此时定理5.12的结论变为$f'(c)[g(b-)-g(a+)]=g'(c)[f(b-)-f(a+)]$。定理5.14说明了导数和原函数单调性的关系。

定理5.16是导函数的介值定理，在紧集$[a,b]$上定义且在$(a,b)$可导的函数$f$的导函数可以取到$f'_+(a)$和$f'_-(b)$之间的任何一个值。定理5.17是基于定理16的结论对定理14的加强，在紧集$[a,b]$上定义且在$(a,b)$可导的函数$f$如果导函数不为0，则必然在$[a,b]$单调。定理5.18说明在$(a,b)$单调的导数必然连续。

定理5.19和5.20是Taylor展开，在函数分析中很重要的定理，本质是利用各阶导数近似逼近原函数。一般的书上只介绍5.19并用中值定理证明，这本书喜欢对称的$f$和$g$生成定理，例如推广的中值定理，因此还有个5.20，并且证明也是用推广的中值定理。

## 向量值函数与偏导

向量值函数是从单变量到n维欧式空间的函数，其导数就是每个分量的导函数再组成一个向量。基于此，很多单变量函数导数相关的定理在向量值函数上也成立，例如导数四则运算、链式法则，但是中值定理是不成立的，需要略加修改（第12章讲）。

偏导数需要针对从n维空间向1维空间的函数定义，与向量值函数不同，偏导在自变量多于1个的时候才有定义的意义。具体而言，如果$\mathbf{x}=(x_1,\dots,x_n)$和$\mathbf{c}=(c_1,\dots,c_n)$是两个定义域中的点，且只有一个分量$x_k\neq c_k$，那么在极限
$$
\lim_{x_k\to c_k}\dfrac{f(\mathbf{x})-f(\mathbf{c})}{x_k-c_k}
$$
存在时，将其定义为$f$相对于第$k$个分量的偏导数，可记为$D_kf(\mathbf{c}),f_k(c)$ 或者是$\dfrac{\partial f}{\partial x_k}(\mathbf{c})$。这本书用了第一个记号$D_kf(\mathbf{c})$。偏导数的本质是将$f(x_1,\dots,x_n)$视作一个单变量函数，因此无甚新意，但是需要注意1维和多维空间的不同之处，例如偏导数存在不代表函数在该点连续。主要因为偏导数的本质是函数值在某一个轴上的变化率，而不是其整体的变化率。

偏导数可以有高阶，二阶偏导$D_{r,k}f=D_r(D_kf)$，更高阶的可类似定义。

## 复变数值函数

复变数值函数的定义域和值域都在复平面上，可以看成定义域和值域都在$\mathbf{R}^2$上的实变量向量函数，但是复数的除法定义和实数不同，复数的乘除也不能按照实数那样使用，因此在定义时仍然是回归本源的定义。定义5.21说明复变量复值函数的导数存在即下列极限存在
$$
\lim_{z\to c}\dfrac{f(z)-f(c)}{z-c}=f'(c)
$$
采用与实数域类似的证明方法，可以有如下结论：

- $f$在c可导 等价于 存在在$c$连续的函数$f^*$使得$f(z)-f(c)=(z-c)f^*(z)$，且$f^*(c)=f'(c)$。

- $f$在c可导能够推出$f$在c连续

- 导数的加减乘除公式成立

- 求导数的链式法则成立

本章余下的部分介绍了Cauchy-Riemann方程。首先，对于一个复变量复值函数$f$，可以将其写成$f(z)=u(z)+iv(z)$，其中$u,v$是$\mathbf{C}\to\mathbf{R}$的函数，当然，如果记$z=x+iy$，则可进一步将其写成$f(z)=u(x,y)+iv(x,y)$，其中$u,v$是$\mathbf{R}^2\to\mathbf{R}$的函数。在上述两种方式中我们都可以将$u$称为函数$f$的实部，将$v$称为函数$f$的虚部。Cauchy-Riemann方程证明，当$f$在某一点$c$可导的时候，其实部和虚部函数将有一个很强的等式关系。具体而言，定理5.22证明$f$在某一点$c$可导意味着实部和虚部的四个偏导$D_1u(c),D_2u(c),D_1v(c),D_2v(c)$均存在，且有
$$
f'(c)=D_1u(c)+iD_1v(c)=D_2v(c)-iD_2u(c)
$$
这个等式可特别地推出$D_1u(c)=D_2v(c)$以及$D_1v(c)=-D_2u(c)$，也称为Cauchy-Riemann方程。

作为Cauchy-Riemann方程的一个应用示例，定理5.23证明对一个$f=u+iv$而言，如果$u,v,|f|$三个函数中的任何一个是常数或者$f'=0$，那么$f$就是常数。定理5.22还说明$f$在点$c$可导的一个必要条件是四个偏导$D_1u(c),D_2u(c),D_1v(c),D_2v(c)$均存在，且满足Cauchy-Riemann方程，但这个条件不是充分条件，需要再加上这四个偏导函数在点$c$附近连续才可（第12章）